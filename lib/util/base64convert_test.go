package util_test

import (
	"testing"

	"github.com/sushidesu/mewmew/lib/util"
)

func Test_Base64Convert(t *testing.T) {
	// browserでencodeしたものに無駄がある？
	str := "iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA3lJREFUeF7tmD2ojmEYx39HBmVCPgaD8pEsykghlBUZECVJWQzKJGQyGElMFsMpiTJYWCwWH2ERxYIkEZEkH111q7e3c45reJ7r/N/6P3U6Z7je+7re3+/5P899nzF8SREYk5rGw2AhYjeBhViIGAGxcZwQCxEjIDaOE2IhYgTExnFCLESMgNg4ToiFiBEQG8cJsRAxAmLjOCEWIkZAbBwnxELECIiN44RYiBgBsXGcEAsRIyA2jhNiIWIExMZxQixEjIDYOE6IhYgREBvHCbEQMQJi4zghFiJGQGwcJ8RCxAiIjeOEWIgYAbFxnBALESMgNo4TYiFiBMTGcUIsRIyA2DhOiIWIERAbxwmxkF4ILAJWAR+AFRN0eA486aVzx4uOekKWALuAE8AvYDbwdYjRTOAHMLdjdr0sN4pCVgPbgO3AHGAe8BhYNwmhfcCF9pk7vVDscNFRERKPpLXA/nanPwVmAZGQA8CrKZhsBi4Br1ua3nXIr/Ol1IVsBI4CC4EvwDXgIXAZeAkc+Y+MALYMuA18bu+YECR7KQsJkDeA88DFAYJngN/A8STVEHAKON1+r09+blrK1IXcApYPkXkG7AXuJ4n9E3KvrbUj+blpKVMWEiBPAhsGyKxpiYn3SfaKda4Cn4AtiUdcdt1e6pSFxCNrOCETSZoMzALgEHAQWAxsAu72QrHDRdWFjLdn/832nSeSNIwjtsN72rY4XuSxG/sGhCD5S1lIwNvZdllx2LsO/AQOA8ca2TiZxxXb4q3AbiDeMR/bif09MB940LbHFtIBgbhp4q6Pn5VAHAz/tNP3W+B7E/UIuAK8AM4B8b45O7RD62CcfpdQT8hU3z7SE+eQGQNFS9vfb9r/ruLQOFLXKAsZKdDZYS0kS6qozkKKQGfbWEiWVFGdhRSBzraxkCypojoLKQKdbWMhWVJFdRZSBDrbxkKypIrqLKQIdLaNhWRJFdVZSBHobBsLyZIqqrOQItDZNhaSJVVUZyFFoLNtLCRLqqjOQopAZ9tYSJZUUZ2FFIHOtrGQLKmiOgspAp1tYyFZUkV1FlIEOtvGQrKkiuospAh0to2FZEkV1VlIEehsGwvJkiqqs5Ai0Nk2FpIlVVRnIUWgs20sJEuqqM5CikBn21hIllRRnYUUgc62sZAsqaI6CykCnW1jIVlSRXUWUgQ62+Yv8LZLZeQErxIAAAAASUVORK5CYII="
	str = "iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAACkklEQVR4nOzYzYtNcRzH8fegbFAsEOWhmSwkysJCKUV2CikrJUmysJSNrORfYKcsZyEsZUFZeCjPJQ9hQYgpT+U5nfotppPunRl37nk783nV7da5zunrvLvn/n4zjVBJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmRlND9AjC4GVwDtgxV8+fwTcbWCuKWcZcAT4AnwEfgEfaq/qs5GmB22zNcAx4DbwAvgMXO3w73cDn4BNfZxxwv6XR1b1SFoP7AHmAfeAW+UbshF41uHcV8Ab4CjwAHjdx7lbp7rZ54FrwEXgALCu3NgLwPIxXGMIeA7cAS71YebWqm7k/RJhtBPA8XFcp3pUXRn1rmZf9s4ETtaObQfOTuBaW8oqTM38G7K0PP9HW1tWTDfHea1VwGJgcw/nmxTmINUKalHt2FzgxxjPnw/sB/YBc4BtXX78o4uh8k3YWjv2uMt51SNtGPgJvC/7kLeTPGvPTG96gA5GyuswsAuYBSwBVgNPygprNrCg7E0OAqeBQeAr8Bt4CnwDLgPnmv4PtcUAsAM4A9wAvpebXO3MH5b9yHXgFLCh7FmGS4z6Ck1voOkB/sFO4FBtpThY3l+Wv13tbWi2aAv7PmTKSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJkEkUkQmQSRSRCZBJFJEJk/AQAA///9V08mrUCCJgAAAABJRU5ErkJggg=="
	img, err := util.ConvertBase64ToImage(str)
	if err != nil {
		t.Fatalf(err.Error())
	}
	str2, err := util.ConvertImageToBase64(img)
	if err != nil {
		t.Fatalf(err.Error())
	}
	if str != str2 {
		t.Fatalf("%v\n%v", str, str2)
	}
}
